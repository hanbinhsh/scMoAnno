<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.scmoanno.scmoanno.mapper.FilesMapper">
    <insert id="insertFiles">
        INSERT INTO files (scRNA-seq_file, scATAC-seq_file, Tag_file, task_id
        VALUES
        <foreach collection="files" item="item" separator=",">
            (#{item.fileName}, #{item.parentId}, #{item.uploadTime},
            #{item.fileSize}, #{item.fileType}, #{item.uploaderId},
            #{item.lastModifierId}, #{item.tag}, #{item.lastModifyTime},
            #{item.isDeleted}, #{item.path})
        </foreach>
    </insert>
    <update id="updateFiles1">
        update scMoAnnoFiles set scRNA-seq_file = #{files.scRna_SeqFile} where task_name = #{taskName},
    </update>
    <update id="updateFiles2">
        update scMoAnnoFiles set scATAC-seq_file = #{files.scAtac_SeqFile} where task_name = #{taskName},
    </update>
    <update id="updateFiles3">
        update scMoAnnoFiles set Tag_file = #{files.tagFile} where task_name = #{taskName},
    </update>

</mapper>